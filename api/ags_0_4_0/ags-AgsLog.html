<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>AgsLog</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="index.html" title="Advanced Gtk+ Sequencer">
<link rel="up" href="ch01.html" title="Advanced Gtk+ Sequencer Reference Manual">
<meta name="generator" content="GTK-Doc V1.18 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td> </td>
<td><a accesskey="u" href="ch01.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Advanced Gtk+ Sequencer</th>
<td> </td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#ags-AgsLog.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#ags-AgsLog.description" class="shortcut">Description</a>
</td></tr>
</table>
<div class="refentry">
<a name="ags-AgsLog"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="ags-AgsLog.top_of_page"></a>AgsLog</span></h2>
<p>AgsLog</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<a name="ags-AgsLog.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">struct              <a href="ags-AgsLog.html#AgsLog">AgsLog</a>;
struct              <a href="ags-AgsLog.html#AgsLogClass">AgsLogClass</a>;
enum                <a href="ags-AgsLog.html#AgsLogFlags">AgsLogFlags</a>;
struct              <a href="ags-AgsLog.html#AgsLogFormatedMessage">AgsLogFormatedMessage</a>;
struct              <a href="ags-AgsLog.html#AgsLogMessage">AgsLogMessage</a>;
#define             <a href="ags-AgsLog.html#ags-default-log">ags_default_log</a>
<span class="returnvalue">void</span>                <a href="ags-AgsLog.html#ags-log-debug">ags_log_debug</a>                       (<em class="parameter"><code><a href="ags-AgsLog.html#AgsLog"><span class="type">AgsLog</span></a> *log</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *format</code></em>,
                                                         <em class="parameter"><code>...</code></em>);
<span class="returnvalue">void</span>                <a href="ags-AgsLog.html#ags-log-message">ags_log_message</a>                     (<em class="parameter"><code><a href="ags-AgsLog.html#AgsLog"><span class="type">AgsLog</span></a> *log</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *format</code></em>,
                                                         <em class="parameter"><code>...</code></em>);
<span class="returnvalue">void</span>                <a href="ags-AgsLog.html#ags-log-start-queue">ags_log_start_queue</a>                 (<em class="parameter"><code><a href="ags-AgsLog.html#AgsLog"><span class="type">AgsLog</span></a> *log</code></em>);
<span class="returnvalue">void</span>                <a href="ags-AgsLog.html#ags-log-stop-queue">ags_log_stop_queue</a>                  (<em class="parameter"><code><a href="ags-AgsLog.html#AgsLog"><span class="type">AgsLog</span></a> *log</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="ags-AgsLog.description"></a><h2>Description</h2>
</div>
<div class="refsect1">
<a name="ags-AgsLog.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="AgsLog"></a><h3>struct AgsLog</h3>
<pre class="programlisting">struct AgsLog {
  GObject object;

  guint flags;

  FILE *file;
  pthread_mutex_t start_mutex;
  pthread_cond_t start_wait_cond;

  struct timespec *log_interval;
  struct timespec *free_float;
  pthread_t timer_thread;
  pthread_attr_t timer_thread_attr;
  pthread_mutex_t timer_mutex;
  pthread_mutexattr_t timer_mutex_attr;
  gboolean timer_started;
  gboolean timer_active;
  gboolean timer_awaken;
  pthread_cond_t timer_wait_cond;

  pthread_t broker_thread;
  pthread_attr_t broker_thread_attr;
  pthread_mutex_t broker_mutex;
  pthread_mutexattr_t broker_mutex_attr;
  gboolean broker_started;
  gboolean broker_active;
  gboolean broker_awaken;
  gboolean signaled_timer;
  gboolean signaled_log;
  gboolean signaled_queue;
  gboolean signaled_output;
  pthread_cond_t broker_wait_cond;

  GList *output_formated_message;
  pthread_t output_thread;
  pthread_attr_t output_thread_attr;
  pthread_mutex_t output_mutex;
  pthread_mutexattr_t output_mutex_attr;
  gboolean output_started;
  gboolean output_active;
  gboolean output_awaken;
  pthread_cond_t output_wait_cond;

  GList *queue_formated_message;
  GList *queue_message;
  pthread_t queue_thread;
  pthread_attr_t queue_thread_attr;
  pthread_mutex_t queue_mutex;
  pthread_mutexattr_t queue_mutex_attr;
  gboolean queue_started;
  gboolean queue_active;
  gboolean queue_awaken;
  pthread_cond_t queue_wait_cond;

  GList *log;
  guint active_logs;
  guint suspended_logs;
  pthread_cond_t log_wait_cond;
};
</pre>
</div>
<hr>
<div class="refsect2">
<a name="AgsLogClass"></a><h3>struct AgsLogClass</h3>
<pre class="programlisting">struct AgsLogClass {
  GObjectClass object;
};
</pre>
</div>
<hr>
<div class="refsect2">
<a name="AgsLogFlags"></a><h3>enum AgsLogFlags</h3>
<pre class="programlisting">typedef enum {
  AGS_LOG_STARTING                    = 1,
  AGS_LOG_RUNNING                     = 1 &lt;&lt;  1,
  AGS_LOG_TIMER_SLEEP                 = 1 &lt;&lt;  2,
  AGS_LOG_OUTPUT_SUSPEND              = 1 &lt;&lt;  3,
  AGS_LOG_OUTPUT_WAITS_FOR_QUEUE      = 1 &lt;&lt;  4,
  AGS_LOG_QUEUE_SUSPEND               = 1 &lt;&lt;  5,
  AGS_LOG_SUSPEND                     = 1 &lt;&lt;  6,
  AGS_LOG_COPY_FROM_QUEUE_TO_OUTPUT   = 1 &lt;&lt;  7,
  AGS_LOG_OMMIT_DEBUG                 = 1 &lt;&lt;  8,
} AgsLogFlags;
</pre>
</div>
<hr>
<div class="refsect2">
<a name="AgsLogFormatedMessage"></a><h3>struct AgsLogFormatedMessage</h3>
<pre class="programlisting">struct AgsLogFormatedMessage {
  int length;
  char *message;
};
</pre>
</div>
<hr>
<div class="refsect2">
<a name="AgsLogMessage"></a><h3>struct AgsLogMessage</h3>
<pre class="programlisting">struct AgsLogMessage {
  gboolean debug;

  struct timespec *time;
  char *format;
  va_list args;
};
</pre>
</div>
<hr>
<div class="refsect2">
<a name="ags-default-log"></a><h3>ags_default_log</h3>
<pre class="programlisting">#define ags_default_log ags_default_log
</pre>
</div>
<hr>
<div class="refsect2">
<a name="ags-log-debug"></a><h3>ags_log_debug ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                ags_log_debug                       (<em class="parameter"><code><a href="ags-AgsLog.html#AgsLog"><span class="type">AgsLog</span></a> *log</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *format</code></em>,
                                                         <em class="parameter"><code>...</code></em>);</pre>
</div>
<hr>
<div class="refsect2">
<a name="ags-log-message"></a><h3>ags_log_message ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                ags_log_message                     (<em class="parameter"><code><a href="ags-AgsLog.html#AgsLog"><span class="type">AgsLog</span></a> *log</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *format</code></em>,
                                                         <em class="parameter"><code>...</code></em>);</pre>
</div>
<hr>
<div class="refsect2">
<a name="ags-log-start-queue"></a><h3>ags_log_start_queue ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                ags_log_start_queue                 (<em class="parameter"><code><a href="ags-AgsLog.html#AgsLog"><span class="type">AgsLog</span></a> *log</code></em>);</pre>
</div>
<hr>
<div class="refsect2">
<a name="ags-log-stop-queue"></a><h3>ags_log_stop_queue ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                ags_log_stop_queue                  (<em class="parameter"><code><a href="ags-AgsLog.html#AgsLog"><span class="type">AgsLog</span></a> *log</code></em>);</pre>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.18</div>
</body>
</html>