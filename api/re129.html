<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>AgsLog</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="ags Reference Manual"><link rel="up" href="ch01.html" title="Chapter 1. [Insert title here]"><link rel="prev" href="re128.html" title="ags_listing_editor_callbacks"><link rel="next" href="re130.html" title="AgsLoopChannel"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry"><a name="ags-AgsLog"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>AgsLog</p></div><div class="refsynopsisdiv"><a name="ags-AgsLog.synopsis"></a><h2>Synopsis</h2><pre class="synopsis">#define             <a class="link" href="re129.html#ags-default-log" title="ags_default_log">ags_default_log</a>
enum                <a class="link" href="re129.html#AgsLogFlags" title="enum AgsLogFlags">AgsLogFlags</a>;
struct              <a class="link" href="re129.html#AgsLog" title="struct AgsLog">AgsLog</a>;
struct              <a class="link" href="re129.html#AgsLogClass" title="struct AgsLogClass">AgsLogClass</a>;
struct              <a class="link" href="re129.html#AgsLogMessage" title="struct AgsLogMessage">AgsLogMessage</a>;
struct              <a class="link" href="re129.html#AgsLogFormatedMessage" title="struct AgsLogFormatedMessage">AgsLogFormatedMessage</a>;
<a class="link" href=""><span class="returnvalue">void</span></a>                <a class="link" href="re129.html#ags-log-start-queue" title="ags_log_start_queue ()">ags_log_start_queue</a>                 (<em class="parameter"><code><a class="link" href="re129.html#AgsLog" title="struct AgsLog"><span class="type">AgsLog</span></a> *log</code></em>);
<a class="link" href=""><span class="returnvalue">void</span></a>                <a class="link" href="re129.html#ags-log-stop-queue" title="ags_log_stop_queue ()">ags_log_stop_queue</a>                  (<em class="parameter"><code><a class="link" href="re129.html#AgsLog" title="struct AgsLog"><span class="type">AgsLog</span></a> *log</code></em>);
<a class="link" href=""><span class="returnvalue">void</span></a>                <a class="link" href="re129.html#ags-log-debug" title="ags_log_debug ()">ags_log_debug</a>                       (<em class="parameter"><code><a class="link" href="re129.html#AgsLog" title="struct AgsLog"><span class="type">AgsLog</span></a> *log</code></em>,
                                                         <em class="parameter"><code><a class="link" href=""><span class="type">char</span></a> *format</code></em>,
                                                         <em class="parameter"><code>...</code></em>);
<a class="link" href=""><span class="returnvalue">void</span></a>                <a class="link" href="re129.html#ags-log-message" title="ags_log_message ()">ags_log_message</a>                     (<em class="parameter"><code><a class="link" href="re129.html#AgsLog" title="struct AgsLog"><span class="type">AgsLog</span></a> *log</code></em>,
                                                         <em class="parameter"><code><a class="link" href=""><span class="type">char</span></a> *format</code></em>,
                                                         <em class="parameter"><code>...</code></em>);
</pre></div><div class="refsect1"><a name="ags-AgsLog.description"></a><h2>Description</h2></div><div class="refsect1"><a name="ags-AgsLog.details"></a><h2>Details</h2><div class="refsect2"><a name="ags-default-log"></a><h3>ags_default_log</h3><OBJECT type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="ags_default_log"></OBJECT><pre class="programlisting">#define ags_default_log ags_default_log
</pre></div><div class="refsect2"><a name="AgsLogFlags"></a><h3>enum AgsLogFlags</h3><OBJECT type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="AgsLogFlags"></OBJECT><pre class="programlisting">typedef enum {
  AGS_LOG_STARTING                    = 1,
  AGS_LOG_RUNNING                     = 1 &lt;&lt;  1,
  AGS_LOG_TIMER_SLEEP                 = 1 &lt;&lt;  2,
  AGS_LOG_OUTPUT_SUSPEND              = 1 &lt;&lt;  3,
  AGS_LOG_OUTPUT_WAITS_FOR_QUEUE      = 1 &lt;&lt;  4,
  AGS_LOG_QUEUE_SUSPEND               = 1 &lt;&lt;  5,
  AGS_LOG_SUSPEND                     = 1 &lt;&lt;  6,
  AGS_LOG_COPY_FROM_QUEUE_TO_OUTPUT   = 1 &lt;&lt;  7,
  AGS_LOG_OMMIT_DEBUG                 = 1 &lt;&lt;  8,
} AgsLogFlags;
</pre><div class="variablelist"><dl class="variablelist"><dt><a name="AGS-LOG-STARTING:CAPS"></a><span class="term"><code class="literal">AGS_LOG_STARTING</code></span></dt><dd></dd><dt><a name="AGS-LOG-RUNNING:CAPS"></a><span class="term"><code class="literal">AGS_LOG_RUNNING</code></span></dt><dd></dd><dt><a name="AGS-LOG-TIMER-SLEEP:CAPS"></a><span class="term"><code class="literal">AGS_LOG_TIMER_SLEEP</code></span></dt><dd></dd><dt><a name="AGS-LOG-OUTPUT-SUSPEND:CAPS"></a><span class="term"><code class="literal">AGS_LOG_OUTPUT_SUSPEND</code></span></dt><dd></dd><dt><a name="AGS-LOG-OUTPUT-WAITS-FOR-QUEUE:CAPS"></a><span class="term"><code class="literal">AGS_LOG_OUTPUT_WAITS_FOR_QUEUE</code></span></dt><dd></dd><dt><a name="AGS-LOG-QUEUE-SUSPEND:CAPS"></a><span class="term"><code class="literal">AGS_LOG_QUEUE_SUSPEND</code></span></dt><dd></dd><dt><a name="AGS-LOG-SUSPEND:CAPS"></a><span class="term"><code class="literal">AGS_LOG_SUSPEND</code></span></dt><dd></dd><dt><a name="AGS-LOG-COPY-FROM-QUEUE-TO-OUTPUT:CAPS"></a><span class="term"><code class="literal">AGS_LOG_COPY_FROM_QUEUE_TO_OUTPUT</code></span></dt><dd></dd><dt><a name="AGS-LOG-OMMIT-DEBUG:CAPS"></a><span class="term"><code class="literal">AGS_LOG_OMMIT_DEBUG</code></span></dt><dd></dd></dl></div></div><div class="refsect2"><a name="AgsLog"></a><h3>struct AgsLog</h3><OBJECT type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="AgsLog"></OBJECT><pre class="programlisting">struct AgsLog {
  GObject object;

  guint flags;

  FILE *file;
  pthread_mutex_t start_mutex;
  pthread_cond_t start_wait_cond;

  struct timespec *log_interval;
  struct timespec *free_float;
  pthread_t timer_thread;
  pthread_attr_t timer_thread_attr;
  pthread_mutex_t timer_mutex;
  pthread_mutexattr_t timer_mutex_attr;
  gboolean timer_started;
  gboolean timer_active;
  gboolean timer_awaken;
  pthread_cond_t timer_wait_cond;

  pthread_t broker_thread;
  pthread_attr_t broker_thread_attr;
  pthread_mutex_t broker_mutex;
  pthread_mutexattr_t broker_mutex_attr;
  gboolean broker_started;
  gboolean broker_active;
  gboolean broker_awaken;
  gboolean signaled_timer;
  gboolean signaled_log;
  gboolean signaled_queue;
  gboolean signaled_output;
  pthread_cond_t broker_wait_cond;

  GList *output_formated_message;
  pthread_t output_thread;
  pthread_attr_t output_thread_attr;
  pthread_mutex_t output_mutex;
  pthread_mutexattr_t output_mutex_attr;
  gboolean output_started;
  gboolean output_active;
  gboolean output_awaken;
  pthread_cond_t output_wait_cond;

  GList *queue_formated_message;
  GList *queue_message;
  pthread_t queue_thread;
  pthread_attr_t queue_thread_attr;
  pthread_mutex_t queue_mutex;
  pthread_mutexattr_t queue_mutex_attr;
  gboolean queue_started;
  gboolean queue_active;
  gboolean queue_awaken;
  pthread_cond_t queue_wait_cond;

  GList *log;
  guint active_logs;
  guint suspended_logs;
  pthread_cond_t log_wait_cond;
};
</pre></div><div class="refsect2"><a name="AgsLogClass"></a><h3>struct AgsLogClass</h3><OBJECT type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="AgsLogClass"></OBJECT><pre class="programlisting">struct AgsLogClass {
  GObjectClass object;
};
</pre></div><div class="refsect2"><a name="AgsLogMessage"></a><h3>struct AgsLogMessage</h3><OBJECT type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="AgsLogMessage"></OBJECT><pre class="programlisting">struct AgsLogMessage {
  gboolean debug;

  struct timespec *time;
  char *format;
  va_list args;
};
</pre></div><div class="refsect2"><a name="AgsLogFormatedMessage"></a><h3>struct AgsLogFormatedMessage</h3><OBJECT type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="AgsLogFormatedMessage"></OBJECT><pre class="programlisting">struct AgsLogFormatedMessage {
  int length;
  char *message;
};
</pre></div><div class="refsect2"><a name="ags-log-start-queue"></a><h3>ags_log_start_queue ()</h3><OBJECT type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="ags_log_start_queue"></OBJECT><pre class="programlisting"><a class="link" href=""><span class="returnvalue">void</span></a>                ags_log_start_queue                 (<em class="parameter"><code><a class="link" href="re129.html#AgsLog" title="struct AgsLog"><span class="type">AgsLog</span></a> *log</code></em>);</pre></div><div class="refsect2"><a name="ags-log-stop-queue"></a><h3>ags_log_stop_queue ()</h3><OBJECT type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="ags_log_stop_queue"></OBJECT><pre class="programlisting"><a class="link" href=""><span class="returnvalue">void</span></a>                ags_log_stop_queue                  (<em class="parameter"><code><a class="link" href="re129.html#AgsLog" title="struct AgsLog"><span class="type">AgsLog</span></a> *log</code></em>);</pre></div><div class="refsect2"><a name="ags-log-debug"></a><h3>ags_log_debug ()</h3><OBJECT type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="ags_log_debug"></OBJECT><pre class="programlisting"><a class="link" href=""><span class="returnvalue">void</span></a>                ags_log_debug                       (<em class="parameter"><code><a class="link" href="re129.html#AgsLog" title="struct AgsLog"><span class="type">AgsLog</span></a> *log</code></em>,
                                                         <em class="parameter"><code><a class="link" href=""><span class="type">char</span></a> *format</code></em>,
                                                         <em class="parameter"><code>...</code></em>);</pre></div><div class="refsect2"><a name="ags-log-message"></a><h3>ags_log_message ()</h3><OBJECT type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="ags_log_message"></OBJECT><pre class="programlisting"><a class="link" href=""><span class="returnvalue">void</span></a>                ags_log_message                     (<em class="parameter"><code><a class="link" href="re129.html#AgsLog" title="struct AgsLog"><span class="type">AgsLog</span></a> *log</code></em>,
                                                         <em class="parameter"><code><a class="link" href=""><span class="type">char</span></a> *format</code></em>,
                                                         <em class="parameter"><code>...</code></em>);</pre></div></div></div></body></html>
